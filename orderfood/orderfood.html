<html>

<head>
<style>

td{ 
	padding: 10px; 
	background-color: rgba(255, 255, 255, 0.7);
	border-radius:2%; 
	box-shadow: 0px 15px 25px 0px rgba(0, 0, 0, 0.6); 
	width: 200px; 
	height:300px; 
	vertical-align: center;
}

.thprice{
	width: 200px; 
	height:50px; 
	padding: 10px; 
	background-color: rgba(255, 255, 255, 0.9);
	vertical-align: center;
	text-align: center; 
}
 .td200{
	width: 200px;
	height: 200px;
	border-radius:0%; 
 }
 
 .td100{
	width: 100px;
	height: 200px;
	border-radius:0%; 
 }
 

body{
	background-repeat: no-repeat; 
	background-attachment: fixed;
}

#homefont{
	font-size: 15px;
	text-align: center; 
	margin: 20px;
	padding: 20px;
	border-radius: 0%;
	background-color: white;
	box-shadow: 0px 15px 25px 0px black; 
	width: 1400px; 
	height:150px; 
}

.aboutus{
	font-size: 20px;
	text-align: center; 
	margin: 40px;
	padding: 20px;
}

.titlefont{
	text-shadow: 1px 2px gray;
	font-size: 35px;
	color: black;
}

#centers{
	position: absolute;
	right: 370;
}

.fname{
	font-size: 15px;
	text-align: center; 
	padding:5px;
	position:static;
}

.fname1{
	font-size: 20px;
	text-align: center; 
	padding:5px;}

.button {
    position: fixed;
    bottom: 10%;
}

img{ border-radius:2%}

.zoom:hover {
    transform: scale(2); 
}

.carousel {
    width: 600px;
    height: 300px;
}

.carousel-item{
	width: 50%;
	box-shadow: 0px 15px 25px 0px black; 
}

#slide{
	border-radius: 0%;
	width: 300px;
	height: 400px;
}
</style>
<title>Welcome to FavoResto</title>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

<script src="menu.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1.0"
</head>

<body>

<nav class="navbar navbar-dark bg-dark">
  <div class="navbar-brand" onclick='home()'>FavoResto</div>
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
  <div class="collapse navbar-collapse" id="navbarNavDropdown">
    <ul class="navbar-nav">
      <li class="nav-item">
        <div class="nav-link" onclick='orders()'>Order</div>
      </li>
      <li class="nav-item">
        <div class="nav-link" onclick="totalprice()">My Cart <i class="fa fa-shopping-cart"></i></div>
      </li>
      <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          About Us
        </a>
        <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
		  <div class="dropdown-item" onclick="howtoorder()">How to Order Food</div>
          <div class="dropdown-item" onclick="address()">Address</div>
          <div class="dropdown-item" onclick="cp()">Contact Person</div>
        </div>
      </li>
    </ul>
  </div>
</nav>

<center><table id="tab"></table></center>
<div id='final'></div>

<script>
var pamount=[0], x=0, order=[0], psize=[""], fixedprice=[0], allprice=0, code='HIYc';
home();

function home(){
	var txt="", i;
	x=0;
	txt+="<td id='homefont'><p class='titlefont';>Welcome to FavoResto</p>A Japanese-style restaurant with various kind of tasty sushi</td>";
	document.getElementById('tab').innerHTML=txt;
	txt="";
	txt+= '<br><center><div id="carouselExampleControls" class="carousel slide" data-ride="carousel"><div class="carousel-inner">';	
	txt+= '<div class="carousel-item active"><img id="slide" class="d-block w-100" src="'+ menu[0][0] +'" alt="'+ menu[0][2] +'"></div>';
	for (i=1;i<=23;i++){
		 txt+= '<div class="carousel-item"><img id="slide" class="d-block w-100" src="'+ menu[i][0] +'" alt="'+ menu[i][2] +'"></div>';
	}
	  
	txt+= '</div><a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev"><span class="carousel-control-prev-icon" aria-hidden="true"></span>';
    txt+= '<span class="sr-only">Previous</span></a><a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">';
    txt+= '<span class="carousel-control-next-icon" aria-hidden="true"></span><span class="sr-only">Next</span></a></div></center></td>';
	document.getElementById('final').innerHTML=txt;
	document.body.style.backgroundImage = "url('menu/bg4.jpg')";
}

function howtoorder(){
	var txt="";
	document.getElementById('tab').innerHTML=txt;
	txt+= "<div style='text-align: center; margin: 20px'>5 steps for ordering food in FavoResto:</div> <br>";
	txt+= "<ol id='centers'>";
	txt+= "<li>Go to <b>order</b> on the first page</li>";
	txt+= "<li>Find the food that you want to order, and click on it</li>";
	txt+= "<li>Choose the the amount of the food that you want to order, as well as the size </li>";
	txt+= "<li> Click <b>add to cart</b></li>";
	txt+= "<li>Go to <b>My Cart</b>, click <b>Check Out</b>, and click <b>Order Now</b></li>"; 
	txt+= "After you make a payment, don't forget to fill out the form, then we'll send you a code for picking up the food.</ol>";  
	document.getElementById('final').innerHTML=txt;
	document.body.style.backgroundImage = "";
}

function orders(){
var txt="", i, j, k=0;
document.getElementById('final').innerHTML=txt;
	for (i=0;i<8;i++){
		txt+="<tr class='tab1'>";
		for (j=0;j<3;j++){
		txt+="<td class='ordertab'><center><img onclick='show(" + k + ")' class='zoom' width='200' height='150' alt='" +menu[k][2]+ "' src='" + menu[k][0] + "'><br>"
		txt+="<p class='fname'>" + menu[k][2] + "</p><br>" + menu[k][1]+ " NTD</center></td>";
		k++;
		}
		txt+="</tr>";
	}
	document.getElementById('tab').style.borderSpacing='30px';
	document.getElementById('tab').innerHTML=txt;
	document.body.style.backgroundImage = "url('menu/mainmenu2.jpg')";
}

function address(){
	var txt="";
	document.getElementById('tab').innerHTML="";
	txt+= "<div class='aboutus'>FavoResto is a Japanese-style restaurant which is located in Banda Aceh, Indonesia. This restaurant is nicely decorated, very cozy and has a good view of Lampuuk Beach. ";
	txt+= "Beside of its good view, this restaurant is also equipped with the traditional Japanese low tables and cushions. Service is fast and friendly. Prices are reasonable. Parking is limited in front of the restaurant.</div>";
	document.getElementById('final').innerHTML= txt;
	document.body.style.backgroundImage = "";
}

function cp(){
	var txt="";
	document.getElementById('tab').innerHTML="";
	txt+= "<div class='aboutus'>This soon-will-be-open restaurant is run by Victoria and Felix Fredie.<br>We're both Indonesian, and currently living in Taiwan.<br>Both of us study in Taiwan, but we are staying in the different town. <br>";
	txt+= "If you have any suggestion about this web, please feel free to contact us: <br> <a href='https://www.instagram.com/victoria.tjia/' target='_blank'> @victoria.tjia </a><br> <a href='https://www.instagram.com/felixfredie/' target='_blank'> @felixfredie </a></div>"; 
	document.getElementById('final').innerHTML= txt;
	document.body.style.backgroundImage = "";
}

function show(index){
var txt1="", amount=1;
document.getElementById('final').innerHTML=txt1;
	txt1+="<tr><td><p class='fname1'>" +menu[index][2]+ "</p>";																												//show food's name						
	txt1+="<img width='300' height='250' alt='" +menu[index][2]+ "' src='" +menu[index][0]+ "'></td>"	;																		//images' alt and image	
	txt1+= "<td>Select Your Size<br><input onclick='checksize(0," + index + ")' type='radio' name='portion' id='Regular' value='Regular' checked>Regular"				//show food's size
	txt1+= "<br><input onclick='checksize(40," + index + ")' type='radio' name='portion' id='Large' value='Large'>Large<br><input onclick='checksize(80," + index;
	txt1+= ")' type='radio' name='portion' id='Family' value='Family'>Family<br>";
	txt1+= "<center><div id='showprice'>" + menu[index][1] + " NTD</div>";																									//show price
	txt1+= "<input type='button' value='-' onclick='reduce("+index+")'>";																								//show '-' io reduce amount
	txt1+= "<input id='showamount' style='text-align: center' type='number' min='0' max='0' value=" +amount+ ">";																//show the amount of the order food
	txt1+= "<input type='button' value='+' onclick='add("+index+")'><br><br>";																						//show '+' io increase amount
	txt1+= "<input class='btn btn-primary btn-sm' type='button' value='enter' onclick='fillamount("+index+")'>  &nbsp;";													//click button to show the amount prices	
	txt1+= "<input size='3' class='btn btn-secondary btn-sm' type='button' value='add to cart' onclick='totalorder(" + index + ")'>";														//click button to add food to cart
	document.getElementById('tab').style.borderSpacing='0px';																															
	document.getElementById('tab').innerHTML=txt1;																														//show teks into the screen
	document.body.style.backgroundImage = "url('menu/mainmenu2.jpg')";
	pamount[x]=amount;
}

function checksize(size, index){	//control the food's information based on its size
	document.getElementById('showamount').value=1;		//each time user set the food's size, then the amount will automaticly set to 1 again
	pamount[x]=1;
	document.getElementById('showprice').innerHTML= menu[index][1] + size + " NTD";	//show food's price  based on its size
}


function add(index){
	var amount=pamount[x];
	var foodprice=menu[index][1];
	if (document.getElementById('Large').checked==true){
		foodprice+=40;}
	if (document.getElementById('Family').checked==true){
		foodprice+=80;}
    amount++;
	pamount[x]=amount;
	document.getElementById('showamount').value=amount;
	document.getElementById('showprice').innerHTML= amount*foodprice + " NTD";
}

function add1(row){
	var amount=pamount[row];
	var foodprice=menu[order[row]][1];
	if (psize[row]=='Large'){
		foodprice+= 40;}
	if (psize[row]=='Family'){
		foodprice+= 80;}
    amount++;
	pamount[row]=amount;
	document.getElementsByName('changeamount')[row].value=amount;
	document.getElementsByName('changeprice')[row].innerHTML= amount*foodprice +" NTD ";
	fixedprice[row]=amount*foodprice ;
}

function reduce(index){
	var amount=pamount[x];
	var foodprice=menu[index][1];
	if (document.getElementById('Large').checked==true){
		foodprice+=40;}
	if (document.getElementById('Family').checked==true){
		foodprice+=80;}
    if (amount>1){
		amount--;
		pamount[x]=amount;
		document.getElementById('showamount').value=amount;
		document.getElementById('showprice').innerHTML= amount*foodprice+" NTD";
	}
}

function reduce1(row){
	var amount=pamount[row];
	var foodprice=menu[order[row]][1];
	if (psize[row]=='Large'){
		foodprice+= 40;}
	if (psize[row]=='Family'){
		foodprice+= 80;}
    if (amount>1){
    amount--;
	pamount[row]=amount;
	document.getElementsByName('changeamount')[row].value=amount;
	document.getElementsByName('changeprice')[row].innerHTML= amount*foodprice +" NTD ";
	fixedprice[row]=amount*foodprice ;
	}
}

function fillamount(index){
	var amount=pamount[x];
	var foodprice=menu[index][1];
	if (document.getElementById('Large').checked==true){
		foodprice+=40;}
	if (document.getElementById('Family').checked==true){
		foodprice+=80;}
    if (amount>=1){
		pamount[x]=amount;
		document.getElementById('showprice').innerHTML= amount*foodprice +" NTD";
	}
}

function totalorder(i){		//save food's index and size which user choose into a cart
	if (document.getElementById('Regular').checked==true){
		psize[x]='Regular';}
	if (document.getElementById('Large').checked==true){
		psize[x]='Large';}
	if (document.getElementById('Family').checked==true){
		psize[x]='Family';}
	order[x]=i;
	x++;
}

function totalprice(){			//show the cart
	var row, txt="", title=["Food Picture", "Food Type", "Single Price", "Total Amount", "Total Price", "Cancellation"], foodprice;
	document.getElementById('final').innerHTML=txt;
	txt+="<tr>";
	for (row=0;row<title.length;row++){
	txt+="<th class='thprice'>" + title[row] + "</th>";
	}
	
	txt+="</tr>";
	if (x==0){
	txt='<div class="alert alert-light" role="alert">You have not order anything</div>';
	document.getElementById('tab').style.borderSpacing='0px';
	document.getElementById('tab').innerHTML=txt;	
	}

	for (row=0;row<x;row++){
	foodprice= menu[order[row]][1];
	
	if (psize[row]=='Large'){
		foodprice+= 40;}
	if (psize[row]=='Family'){
		foodprice+= 80;}
		
	fixedprice[row]= pamount[row]*foodprice;
	txt+="<tr class='td200'>";
	txt+="<td class='td200' style='text-align: center';>" + "<img width='200' height='150' alt='" + menu[order[row]][2] + "' src='" + menu[order[row]][0] + "'></td>";
	txt+="<td class='td100'>" + menu[order[row]][2] + "-" + psize[row] + "</td>"; 
	txt+="<td class='td100'>" + foodprice + " NTD</td><td class='td100'>";
	txt+= "<input type='button' value='-' onclick='reduce1(" + row + ")'>" + "<input name='changeamount' style='text-align: center' type='number' min='0' max='0' value=" + pamount[row] + ">"; 
	txt+= "<input type='button' value='+' onclick='add1(" + row + ")'>" + "</td>";
	txt+= "<td class='td100'><div name='changeprice'>" + fixedprice[row] + " NTD</td><td class='td100'><i onclick='cancel(" + row + ")' style='font-size:24px' class='fa'>&#xf00d;</i> </div></td>";
	txt+="</tr>";
	}
	txt+='<button onclick="fixprice()" type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModalCenter">Check Out</button>';
	document.getElementById('tab').innerHTML=txt;	
	document.body.style.backgroundImage = "url('menu/mainmenu2.jpg')";
}

function cancel(row){
	while (row< x-1){ 
		order[row]=order[row+1];
		psize[row]=psize[row+1];
		pamount[row]=pamount[row+1];
		row++;
	}
	if (row == x-1){
		order[row]=0;
		psize[row]="";
		pamount[row]=0;
	}
	x--;
	totalprice();
}

function fixprice(){
	var row,txt="", allprice=0;
	
	for (row=0;row<x;row++){
		allprice+=fixedprice[row];
	}
	txt+= '<div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">';
	txt+= '<div class="modal-dialog modal-dialog-centered" role="document"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="exampleModalLongTitle">'
	txt+= 'You have ordered: </h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button> </div>';
	for (row=0;row<x;row++){
	txt+= '<div id="finalalert" class="modal-body">'+ menu[order[row]][2] + '-' + psize[row] + '	:' + fixedprice[row] + '</div>';
	}
	txt+=  '  &nbsp;<b>Total Price<b>  &nbsp;: &nbsp;' + allprice + '<div class="modal-footer"><button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button> <button type="button" class="btn btn-primary" data-dismiss="modal" onclick="thankyou()">Order Now</button></div></div></div></div>';
	document.getElementById('final').innerHTML=txt;	
	document.body.style.backgroundImage = "url('menu/mainmenu2.jpg')";
}

function thankyou(){
	alert("Thank you for ordering food in FavoResto\nPlease fill the payment form and we'll send you the code");
	home();
}
</script>
</body>
</html>